# AI文章生成前端使用指南

## 功能入口

在后台管理系统中，AI文章生成功能包含两个主要页面：

1. **AI配置管理** - `/ai-configs`
2. **AI文章生成** - `/ai-tasks`

## 一、AI配置管理

### 页面功能

管理AI服务提供商的配置信息，包括API密钥、模型参数等。

### 使用步骤

#### 1. 添加AI配置

点击"添加配置"按钮，填写以下信息：

- **配置名称**: 便于识别的名称，如"OpenAI GPT-3.5"
- **AI提供商**: 选择AI服务商
  - OpenAI
  - Claude
  - DeepSeek
  - 百度文心一言（待实现）
  - 阿里通义千问（待实现）
  - 智谱ChatGLM（待实现）
- **API密钥**: 从AI服务商获取的API密钥
- **API端点**: 可选，留空使用默认端点
- **模型名称**: 如 gpt-3.5-turbo, claude-3-sonnet-20240229
- **最大Tokens**: 控制生成内容的长度（100-10000）
- **温度参数**: 控制输出的创造性（0-1）
  - 0.3-0.5: 更稳定
  - 0.6-0.8: 平衡（推荐）
  - 0.9-1.0: 更有创造性
- **设为默认**: 是否作为默认配置
- **状态**: 启用或禁用

#### 2. 测试连接

创建配置后，可以点击"测试"按钮验证配置是否正确。

#### 3. 设为默认

可以将常用的配置设为默认，创建任务时会自动选择。

#### 4. 编辑/删除

- 编辑：修改现有配置
- 删除：删除不再使用的配置（如果有关联任务无法删除）

### 注意事项

- API密钥在列表中会自动隐藏显示，保护安全
- 编辑时如果不修改API密钥，保持原样即可
- 禁用的配置无法在创建任务时选择

## 二、AI文章生成任务

### 页面功能

创建和管理批量文章生成任务，查看生成进度和结果。

### 统计卡片

页面顶部显示：
- 总任务数
- 处理中的任务
- 已完成的任务
- 已生成的文章总数

### 使用步骤

#### 1. 创建生成任务

点击"创建任务"按钮，填写以下信息：

**基本信息**:
- **任务名称**: 便于识别的任务名称
- **生成主题**: 输入要生成的文章主题
  - 支持多个主题，用逗号或换行分隔
  - 示例：`人工智能的应用,机器学习入门,深度学习实战`
  - 系统会随机选择主题生成文章
- **AI配置**: 选择使用哪个AI配置
- **目标分类**: 生成的文章归属的分类
- **生成数量**: 要生成的文章数量（1-100篇，建议不超过50）

**生成参数**:
- **文章长度**:
  - 短文：500-800字
  - 中等：1000-1500字
  - 长文：2000-3000字
- **写作风格**:
  - 专业严谨：适合技术文档、学术文章
  - 轻松口语：适合博客、生活类文章
  - 创意想象：适合营销文案、创意内容
- **自动发布**: 开启后生成完成自动创建为文章
- **发布状态**: 如果开启自动发布，选择是草稿还是已发布

#### 2. 启动任务

创建任务后，点击"启动"按钮开始生成。

系统特性：
- 后台异步处理，不会阻塞界面
- 进度条实时显示生成进度
- 每篇文章间隔2秒，避免API限流
- 连续失败5次会自动停止
- 页面会每5秒自动刷新进度

#### 3. 停止任务

如果需要中断任务，点击"停止"按钮。已生成的文章会保留。

#### 4. 查看生成记录

点击"查看记录"按钮，可以查看任务生成的所有文章：

- 生成主题
- 生成标题
- 关联文章（如果已发布）
- 使用的Token数
- 状态（成功/失败/待处理）
- 生成时间

**记录操作**:
- **预览**: 查看生成的文章内容
- **查看错误**: 如果失败，查看错误原因
- **发布为文章**: 手动将生成的内容发布为文章

#### 5. 编辑/删除任务

- 编辑：只能编辑待处理或已停止的任务
- 删除：只能删除非处理中的任务

### 任务状态说明

- **待处理**: 任务已创建但未启动
- **处理中**: 正在生成文章
- **已完成**: 所有文章生成完成
- **失败**: 任务执行失败
- **已停止**: 手动停止的任务

## 三、最佳实践

### 1. AI配置建议

**OpenAI (推荐)**
```
提供商: OpenAI
模型: gpt-3.5-turbo
Tokens: 2000
温度: 0.7
```

**Claude**
```
提供商: Claude
模型: claude-3-sonnet-20240229
Tokens: 2000
温度: 0.7
```

**DeepSeek (国产推荐)**
```
提供商: DeepSeek
模型: deepseek-chat
Tokens: 2000
温度: 0.7
```

### 2. 主题设置技巧

**单一主题**:
```
如何使用Python进行数据分析
```

**多主题**:
```
Python数据分析入门,
Pandas库使用教程,
NumPy数组操作,
数据可视化技巧
```

**详细主题**:
```
写一篇关于人工智能在医疗行业应用的文章，包括诊断辅助、药物研发、患者管理等方面
```

### 3. 参数选择建议

**技术文章**:
- 长度: 中等或长文
- 风格: 专业严谨
- 温度: 0.6-0.7

**博客文章**:
- 长度: 中等
- 风格: 轻松口语
- 温度: 0.7-0.8

**营销文案**:
- 长度: 短文或中等
- 风格: 创意想象
- 温度: 0.8-0.9

### 4. 批量生成建议

- 首次使用建议生成5篇测试
- 确认效果满意后再批量生成
- 单次任务不超过50篇
- 注意监控API费用

### 5. 内容质量提升

- 使用详细具体的主题描述
- 调整温度参数找到最佳效果
- 生成后人工审核和编辑
- 添加图片、格式优化

## 四、常见问题

### Q1: 任务启动后显示失败？

**可能原因**:
- API密钥错误或过期
- API余额不足
- 网络连接问题
- 模型名称错误

**解决方法**:
- 在AI配置页面测试连接
- 检查API密钥和余额
- 查看任务错误信息

### Q2: 生成的文章质量不理想？

**优化方法**:
- 提供更详细的主题描述
- 调整温度参数
- 尝试不同的AI模型
- 增加max_tokens值

### Q3: 生成速度慢？

**说明**:
- 系统会在每篇文章之间添加2秒延迟
- 这是为了避免API限流
- 生成时间还取决于AI服务响应速度

### Q4: 如何查看API使用成本？

**方法**:
- 查看生成记录的Token数
- 登录AI服务商后台查看详细账单
- 大致估算：1000tokens ≈ 750个中文字

### Q5: 可以同时运行多个任务吗？

**说明**:
- 可以创建多个任务
- 但建议一次只启动一个
- 避免API并发限制

## 五、页面截图说明

### AI配置管理页面
- 配置列表：显示所有AI配置
- 搜索过滤：按提供商、状态筛选
- 操作按钮：测试、设为默认、编辑、删除

### AI任务管理页面
- 统计卡片：显示任务统计信息
- 任务列表：显示所有生成任务
- 进度条：实时显示生成进度
- 操作按钮：启动、停止、查看记录、编辑、删除

### 生成记录页面
- 记录列表：显示任务的所有生成记录
- 状态标识：成功、失败、待处理
- 操作按钮：预览、发布为文章

## 六、技术支持

如遇问题，请联系技术支持团队或查看：
- 后端API文档：`AI文章生成功能说明.md`
- GitHub Issues
- 技术支持邮箱

## 七、更新日志

### v1.0.0 (2025-01-09)
- 初始版本发布
- 支持AI配置管理
- 支持批量文章生成
- 支持生成记录查看
- 支持OpenAI、Claude、DeepSeek
